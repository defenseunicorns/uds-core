# Copyright 2024 Defense Unicorns
# SPDX-License-Identifier: AGPL-3.0-or-later OR LicenseRef-Defense-Unicorns-Commercial

tasks:
  - name: c4-dev
    description: "Setup live server to dev on C4 diagrams"
    actions:
      - cmd: npx likec4 start
        dir: docs/.c4/

  - name: c4-validation
    description: "Check for syntax errors and layout drift (outdated manual layout)"
    actions:
      - cmd: npx likec4 validate
        dir: docs/.c4/

  - name: c4-update
    description: "Generate new diagrams"
    actions:
      - cmd: |
          npm ci
          npm run setup
          npx likec4 export png -o diagrams
        dir: docs/.c4/
