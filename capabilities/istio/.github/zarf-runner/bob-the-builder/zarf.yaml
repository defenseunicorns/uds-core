kind: ZarfPackageConfig
metadata:
  name: bob-the-builder
  url: https://welovebob.com/characters/bob.htm
  image: https://welovebob.com/Images/characters/bob.jpg
  description: "A zarf package to build/pull things"

components:
  - name: build
    required: true
    actions:
      onCreate:
        before:
          - description: Load UDS CLI
            cmd: |
              brew tap defenseunicorns/tap && brew update && brew install uds
          - description: Build the pepr module
            cmd: |
              npm ci
              npx pepr build
            dir: ../../../pepr
          - description: Build the zarf packages
            cmd: |
              ./zarf p c ../../../ --confirm --no-progress -o ../build
