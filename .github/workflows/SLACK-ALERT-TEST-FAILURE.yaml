# Copyright 2025 Defense Unicorns
# SPDX-License-Identifier: AGPL-3.0-or-later OR LicenseRef-Defense-Unicorns-Commercial

name: SLACK ALERT TEST - FAILURE

on:
  pull_request:
    branches: [main]
    paths:
      - '.github/workflows/test-slack-alert.yaml'
      - '.github/actions/slack-alert/**'

jobs:
  scan-unicorn-package:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2

      - name: Force failure to test notification
        run: exit 1

      - name: Send Slack notification
        if: failure()
        uses: ./.github/actions/slack-alert
        with:
          webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
