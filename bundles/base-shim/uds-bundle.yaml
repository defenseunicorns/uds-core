# Copyright 2025 Defense Unicorns
# SPDX-License-Identifier: AGPL-3.0-or-later OR LicenseRef-Defense-Unicorns-Commercial

kind: UDSBundle
metadata:
  name: base-shim
  description: A shim bundle for deploying the base package with overrides in CI/Dev environments
  # x-release-please-start-version
  version: "0.55.0"
  # x-release-please-end
variables:
  core-base:
    CA_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZvVENDQTRtZ0F3SUJBZ0lVTHhkcEt2dWdEQk5yazFhQ1hkTDNRVk1ZTy9nd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1lERUxNQWtHQTFVRUJoTUNWVk14RGpBTUJnTlZCQWdNQlV4dlkyRnNNUTR3REFZRFZRUUhEQVZNYjJOaApiREVNTUFvR0ExVUVDZ3dEVlVSVE1Rd3dDZ1lEVlFRTERBTlZSRk14RlRBVEJnTlZCQU1NREZWRVV5Qk1iMk5oCmJDQkRRVEFlRncweU5URXdNekV4T0RVeU5UUmFGdzB6TlRFd01qa3hPRFV5TlRSYU1HQXhDekFKQmdOVkJBWVQKQWxWVE1RNHdEQVlEVlFRSURBVk1iMk5oYkRFT01Bd0dBMVVFQnd3RlRHOWpZV3d4RERBS0JnTlZCQW9NQTFWRQpVekVNTUFvR0ExVUVDd3dEVlVSVE1SVXdFd1lEVlFRRERBeFZSRk1nVEc5allXd2dRMEV3Z2dJaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURDNEp0UmM5dFN2V1ZqdlhyTTkvYzQvR3JCMndhUnZlSXQKb1dnbzlPTlBLVFJFdnZrMjMzWVUzOXEwaDQrdWlRcEl4WU5yMVdsTXoxbUVEd1hodEJPZllLaHQyUjk5YjJWYQpyRFVjNDNwbWpTMWZsSkxVaituSkhmNThIWEQ0L1c2M091MzV1d0kydWJlUElXN0FxUm1ybklXMm1TbWRzNGc1CkFad28xL2FKcGxDRGUrZU5YS0dHbk5VSncxa0xBVjFubkc5T3FweTBaLzE0L3kxNDg1K0p6dG1NZkpUWU92TDcKQVIvSmVjZnZvTXhnQXk0bmpIYXhvYzRQeERtMmhqaE1TM04vWHNXUTRtV01BakEzeHQ0N2xVM0FPTTZjQXVMMwpzVWNBVkJZYTVCT2g2MUpTamNoU0kvVHJjSDJQOEtyeDM0WTlUTlJxNDVlTFpxYklkSEdXcUgzZXd2MTllV2FqCm1kSkdYcmY0TDA1dE0xV0hxZURaZm5XN1lhellpUnMrTG5XaGRrNU1KSU9VVmxrRTFpM3FzZ1U2aFgwY1QvK1YKb0NvVzVyVnZ0WTFLWE5zNlVGbXJ5cldZTzRyUkdPUzRGc2dqQU8zTGhLV2I1dzMxdGttLzV3WThJVXRpcjZqRQp3YVE1T0hiVmdBS25BVFVHbTBXdmE1MllZeWZnSStHYUJBVWZTVld5SEFvN2lTeEoyemhzcU9GTkxMZFBzQWVUCmVTR0VCOVRnaUkzcTVXUnRTNEdGVXJLb1ZaNlBnM1lnLzZLblE3WWQvS3dLV2JjVWdRcEVaNllkVkxwOXpqSGcKUFZWNHZIdzI1aDU0T2hJMkNrZUFxSUlWOFBYU1liai85UkwzRFVkNklMbWREWXhZcllyR0YxclNqU09HczlnMApudVdHOWE3dVd3SURBUUFCbzFNd1VUQWRCZ05WSFE0RUZnUVVrdVJOZHA0V0U1eGhnQTRhWm9uNnF4Sk5Bd1V3Ckh3WURWUjBqQkJnd0ZvQVVrdVJOZHA0V0U1eGhnQTRhWm9uNnF4Sk5Bd1V3RHdZRFZSMFRBUUgvQkFVd0F3RUIKL3pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQURWNXZaUldjd09yWjZlUndzL0JNckcyaXhBZy9PZ2FQNm1kOApTcW4vaXB2aWNsMjdLQ3o5R3hMQkZySUlVeFN4QnZyS21taGZyT1Y4c2h2UmFZeXIrWnV5ZUVmWEJxaUc2V29rCmExVitLb1hoMkIzMVlmWXJSWiswQmNIdVhVaXcvb0QvSHhoek5vbHprS3U3dmZTdWtIN2l6MDNFaWptUURnMXoKMG1ValFiTHFpUmcra2JtVlowWXBGZG1OcTRWWDJhRXpCdHlSanBGZitjd1VvZW1EN1pkTVVMaHVWSEE3a1M3aAovdUlRblN3ZTZibXB3NUNkSERlZFgzZGhqaXZqeWhMRzNteVBjVHplWFN1UmJZMXFsaG9lR3NvSWs5N04wT2VICjRKWUVyWG5JWHhWM2hheHpVd0ZvWXorTnF1MXVLQk9TdUhtbEQ0cGZwZDgrZ3puMSs1MzlvNDN3d3NjSUxQQTEKMXNDbFdUZ0wvWStkYVlPcjYyUXExQXovbEZuZFNZM1ZsSSs2ZkhONU8zSjRhcmlUaEw2QnBrY3R0Y0tWU1BYSwpxWVJHejNqZkd3S1NnbUZ1REUwblpWakxtdk9xUG16UHIwaDFYNTFzWjNMNzdqZUcrbld0V2QwOGlpYnd6Y1crCk1naUxMVEI5MHFHTW1kcnk4a3ViTmYwZGF3aXVEa1ZISThuUEZNR0MwanhjVnRyancyYVJmMlZsd0NxSEZhQzEKVGVSWC9sd2xzdFFlTWlhdFlGRUo3eExnb1o4TEJVaWRtdmdOcW45WDhIdWxOVDcrL2lreDJBbUpLOXZGQzdDUgprOWMyN0ZRYzk3YzYzYXg5Sm1RQ3NvaUFXcm9wd3ovamg1aFViWVltMGlvQUhpa2dVekFORGNGYkxZMVlOV2tZCjFRc2s2bGs9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
packages:
  - name: core-base
    path: ../../build/
    # x-release-please-start-version
    ref: 0.55.0
    # x-release-please-end
    optionalComponents:
      - istio-passthrough-gateway
      - istio-egress-gateway
    overrides:
      pepr-uds-core:
        module:
          values:
            - path: additionalIgnoredNamespaces
              value:
                - uds-dev-stack
            - path: "watcher.resources.requests.memory"
              value: "64Mi"
            - path: "admission.resources.requests.memory"
              value: "64Mi"
            - path: "watcher.resources.requests.cpu"
              value: "100m"
            - path: "admission.resources.requests.cpu"
              value: "100m"
      istio-controlplane:
        istiod:
          values:
            - path: "resources.requests.memory"
              value: "1024Mi"
            - path: "resources.requests.cpu"
              value: "100m"
            - path: "global.proxy.resources.requests.memory"
              value: "40Mi"
            - path: "global.proxy.resources.limits.memory"
              value: "1024Mi"
            - path: "global.proxy.resources.requests.cpu"
              value: "10m"
            - path: "global.proxy.resources.limits.cpu"
              value: "2000m"
