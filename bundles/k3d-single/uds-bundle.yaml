kind: UDSBundle
metadata:
  name: k3d-core-single
  description: A UDS bundle for deploying a single package from UDS Core on a development cluster
  # x-release-please-start-version
  version: "0.11.0"
  # x-release-please-end

packages:
  - name: uds-k3d-dev
    repository: ghcr.io/defenseunicorns/packages/uds-k3d
    # renovate: datasource=github-tags depName=defenseunicorns/uds-k3d versioning=semver
    ref: 0.3.1
    overrides:
      uds-dev-stack:
        minio:
          values:
            - path: "buckets"
              value:
                - name: "uds-loki-chunks"
                - name: "uds-loki-rules"
                - name: "uds-loki-admin"
            - path: "users"
              value:
                - accessKey: logging
                  secretKey: "logging-secret"
                  policy: readwrite

  - name: init
    repository: ghcr.io/defenseunicorns/packages/init
    # renovate: datasource=github-tags depName=defenseunicorns/zarf versioning=semver
    ref: v0.32.2

  # Pepr the world
  - name: pepr-uds-core
    ref:  0.3.0
    path: ../../build/

  - name: uds-core-single
    ref: dev
    path: ../../build/
