// This file is auto-generated by kubernetes-fluent-client, do not edit manually

import { GenericKind, RegisterKind } from "kubernetes-fluent-client";

export class Package extends GenericKind {
  spec?: Spec;
  status?: { [key: string]: never };
}

export interface Spec {
  /**
   * Network configuration for the package
   */
  network?: Network;
}

/**
 * Network configuration for the package
 */
export interface Network {
  /**
   * Expose a service on an Istio Gateway
   */
  expose?: Expose[];
  /**
   * NetworkPolicy configuration for the package
   */
  policies?: Policies;
}

export interface Expose {
  /**
   * The name of the gateway to expose the service on (default: tenant)
   */
  gateway?: Gateway;
  /**
   * The hostname to expose the service on (default: name)
   */
  host?: string;
  /**
   * The mode to use when exposing the service
   */
  mode?: Mode;
  /**
   * The unique name to use as the VirtualService name
   */
  name: string;
  /**
   * The port number to expose
   */
  port: number;
  /**
   * The name of the service to expose (default: name)
   */
  service?: string;
}

/**
 * The name of the gateway to expose the service on (default: tenant)
 */
export enum Gateway {
  Admin = "admin",
  Passthrough = "passthrough",
  Tenant = "tenant",
}

/**
 * The mode to use when exposing the service
 */
export enum Mode {
  HTTP = "http",
  TCP = "tcp",
}

/**
 * NetworkPolicy configuration for the package
 */
export interface Policies {
  /**
   * Allow specific traffic
   */
  allow?: Allow[];
  /**
   * Disable default UDS NetworkPolicy configurations
   */
  disableDefaults?: DisableDefault[];
}

export interface Allow {
  /**
   * The direction of the traffic
   */
  direction: Direction;
  /**
   * The labels to apply to the policy
   */
  labels?: { [key: string]: string };
  /**
   * The name of the policy
   */
  name: string;
  /**
   * Labels to match pods in the namespace to apply the policy to. Leave empty to apply to all
   * pods in the namespace
   */
  podLabels?: { [key: string]: string };
  /**
   * The port to allow
   */
  port?: number;
  /**
   * The protocol (TCP, UDP, or SCTP) to allow. Defaults to TCP.
   */
  protocol?: Protocol;
  /**
   * Custom generated remote selector for the policy
   */
  remoteGenerated?: RemoteGenerated;
  /**
   * The remote namespace selector labels
   */
  remoteNamespaceLabels?: { [key: string]: string };
  /**
   * The remote pod selector labels
   */
  remotePodLabels?: { [key: string]: string };
}

/**
 * The direction of the traffic
 */
export enum Direction {
  Egress = "Egress",
  Ingress = "Ingress",
}

/**
 * The protocol (TCP, UDP, or SCTP) to allow. Defaults to TCP.
 */
export enum Protocol {
  SCTP = "SCTP",
  TCP = "TCP",
  UDP = "UDP",
}

/**
 * Custom generated remote selector for the policy
 */
export enum RemoteGenerated {
  KubeAPI = "KubeAPI",
}

export enum DisableDefault {
  DNSLookup = "dnsLookup",
  PermissiveNamespace = "permissiveNamespace",
}

RegisterKind(Package, {
  group: "uds.dev",
  version: "v1alpha1",
  kind: "Package",
});
